<tr>
    <td>
        <div class="child my-1 {% if not notification.read %}unread{% endif %}">
            {{ _('You have been mentioned by') }} 
            <a class="border border-0" href="/u/{{ notification.targets.author_user_name }}">
                {{ notification.targets.author_user_name }}
            </a>
            :
        </div>
        {% if notification.subtype == "comment_mention" %}
            <div class="clamp_line">
                {{ markdown_to_html(notification.targets.comment_body, allow_img=False) | safe }}
            </div>
            <a href="{{ url_for('user.notification_goto', notification_id=notification.id) }}">
                {{ _("Go to comment") }} <span class="fe fe-external"></span>
            </a>
        {% elif notification.subtype == "post_mention" %}
            <div class="overflow-ellipses-parent text-truncate">
                {{ _('Post title: ') }}
                <a href="/post/{{ notification.targets.post_id }}">
                    {{ notification.targets.post_title }}
                </a>
            </div>
            <div class="clamp_line">
                {{ markdown_to_html(notification.targets.post_body, allow_img=False) | safe }}
            </div>
            <a href="{{ url_for('user.notification_goto', notification_id=notification.id) }}">
                {{ _("Go to post") }} <span class="fe fe-external"></span>
            </a>
        {% elif notification.subtype == "community_move_request" %}
            <div class="overflow-ellipses-parent text-truncate">
                {{ _("This is a request to move the community") }}
            </div>
            <a href="{{ url_for('user.notification_goto', notification_id=notification.id) }}">
                {{ _("Go to community") }} <span class="fe fe-external"></span>
            </a>
        {% endif %}
    </td>
    <td class="text-nowrap align-middle text-center p-1">
        {{ arrow.get(notification.created_at).humanize(locale=locale) }}
    </td>
    <td class="align-middle text-center p-1">
        {% if not notification.read -%}
            <a class="no-underline border border-0" role="button" aria-label="{{ _('Mark as read') }}" tabindex="0" title="{{ _('Mark as read') }}" 
                    hx-post="/notification/{{ notification.id }}/read" 
                    hx-trigger="click throttle:1s" 
                    hx-target="closest tr" 
                    hx-swap="outerHTML">
                <span class="fe fe-read"></span>
            </a>
        {% else -%}
            <a class="no-underline border border-0" role="button" aria-label="{{ _('Mark as unread') }}" tabindex="0" title="{{ _('Mark as unread') }}" 
                    hx-post="/notification/{{ notification.id }}/unread" 
                    hx-trigger="click throttle:1s" 
                    hx-target="closest tr" 
                    hx-swap="outerHTML">
                <span class="fe fe-circle"></span>
            </a>
        {% endif -%}
    </td>
    <td class="align-middle text-center pe-0">
        <a class="no-underline border border-0" role="button" aria-label="{{ _('Delete') }}" tabindex="0" title="{{ _('Delete') }}" 
                hx-post="/notification/{{ notification.id }}/delete" 
                hx-trigger="click throttle:1s" 
                hx-target="closest tr" 
                hx-swap="outerHTML">
            <span class="fe fe-delete"></span>
        </a>
    </td>
</tr>