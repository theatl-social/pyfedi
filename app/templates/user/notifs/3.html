<tr>
    <td>
        <div class="overflow-ellipses-parent text-truncate">
            <div class="child my-1 {% if not notification.read %}unread{% endif %}">
                <a class="border border-0" href="/u/{{ notification.targets.author_user_name }}">
                    {{ notification.targets.author_user_name }}
                </a>
                {{ _('replied to post') }}
                <a href="/post/{{ notification.targets.post_id }}">
                    {{ notification.targets.post_title }}
                </a>
                :
            </div>
        </div>
        <div class="accordion accordion-preview" id="accordion-{{ notification.id }}">
            <div class="accordion-item">
                <div class="accordion-header d-flex align-items-center bg-body-secondary">
                    <button class="accordion-button collapsed bg-body-secondary p-1" type="button" data-bs-toggle="collapse" data-bs-target="#notification-{{ notification.id }}" aria-expanded="false" aria-controls="notification-{{ notification.id }}">
                        {{ _("Reply Details") }}
                    </button>
                    <a class="badge text-bg-primary mx-1" href="{{ url_for('user.notification_goto', notification_id=notification.id) }}">
                        {{ _("Go to comment") }} <span class="fe fe-external"></span>
                    </a>
                </div>
            <div id="notification-{{ notification.id }}" class="accordion-collapse collapse" data-bs-parent="#accordion-{{ notification.id }}">
                <div class="accordion-body p-1">
                    {{ markdown_to_html(notification.targets.comment_body, allow_img=False) | safe }}
                </div>
            </div>
        </div>
    </td>
    <td class="text-nowrap align-middle text-center p-1">
        {{ arrow.get(notification.created_at).humanize(locale=locale) }}
    </td>
    <td class="align-middle text-center p-1">
        {% if not notification.read -%}
            <a class="no-underline border border-0" role="button" aria-label="{{ _('Mark as read') }}" tabindex="0" title="{{ _('Mark as read') }}" 
                    hx-post="/notification/{{ notification.id }}/read" 
                    hx-trigger="click throttle:1s" 
                    hx-target="closest tr" 
                    hx-swap="outerHTML">
                <span class="fe fe-read"></span>
            </a>
        {% else -%}
            <a class="no-underline border border-0" role="button" aria-label="{{ _('Mark as unread') }}" tabindex="0" title="{{ _('Mark as unread') }}" 
                    hx-post="/notification/{{ notification.id }}/unread" 
                    hx-trigger="click throttle:1s" 
                    hx-target="closest tr" 
                    hx-swap="outerHTML">
                <span class="fe fe-circle"></span>
            </a>
        {% endif -%}
    </td>
    <td class="align-middle text-center pe-0">
        <a class="no-underline border border-0" role="button" aria-label="{{ _('Delete') }}" tabindex="0" title="{{ _('Delete') }}" 
                hx-post="/notification/{{ notification.id }}/delete" 
                hx-trigger="click throttle:1s" 
                hx-target="closest tr" 
                hx-swap="outerHTML">
            <span class="fe fe-delete"></span>
        </a>
    </td>
</tr>